<html>
<head>
	<title>Mazama Cameras</title>
	<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
	<link rel="apple-touch-icon" href="goat.png">
	<link rel="icon" href="goat.png">
	<style>
		body {
			background-color: #444444;
			font-family: -apple-system,Helvetica,sans-serif;
		}
		.pageTitle {
			font-size: 30px;
			color: #fc6f03;
			font-variant-caps: all-small-caps;
			margin: 0px;
		}
		.cams {
			margin: auto; /* centers content on page */
			max-width: 900px;
		}
		.cams img {
			height: auto;
			max-width: 100%;
			padding-top: 5px;
			padding-bottom: 10px;
		}
		.fixed_width {
			width: 350px;
			height: auto;
		}
		.cams a {
			color: #fc6f03;
			font-size: 15px;
			font-variant-caps: all-small-caps;
			text-decoration: none;
		}
	</style>
</head>
<body>
	<div class="cams">
	<!-- <p class="pageTitle">Mazama Cameras</p> -->
	<div id="weather"></div>
	<script type="text/javascript">

		// Fetch and display weather data
		fetch('latest-weather.json')
			.then(response => response.json())
			.then(data => {
				// Get temperature in Celsius and convert to Fahrenheit
				const tempC = data.properties.temperature.value;
				const tempF = (tempC * 9/5) + 32;
				
				// Get timestamp and calculate time since update
				const timestamp = new Date(data.properties.timestamp);
				const now = new Date();
				const diffMs = now - timestamp;
				const diffMins = Math.floor(diffMs / 60000);
				const diffHours = Math.floor(diffMs / 3600000);
				
				let timeText;
				if (diffMins < 60) {
					timeText = diffMins + ' minutes ago';
				} else {
					timeText = diffHours + ' hours ago';
				}
				
				// Display the data
				document.getElementById('weather').innerHTML = 
					tempF.toFixed(1) + 'Â°F - ' + timeText;
			});

	</script>
	<script type="text/javascript">

		//Mazama Ranch House		
		document.write('<a href="https://mazamaranchhouse.com/webcam" target="_blank">');
		document.write('<img src="https://mazamacam.earthandskystudios.com/content/ranchhouseimg.jpg' + '?' + Math.random() + '" />');
		document.write('</a></br>');

		//Edelweiss		
		document.write('<a href="http://highlandmeadow.homelinux.org" target="_blank">');
		document.write('<img src="edelweiss.jpg" />');
		document.write('</a></br>');

		//Sun Mountain		
		document.write('<a href="https://sunmountainlodge.com/webcam" target="_blank">');
		document.write('<img src="https://sunmountainlodge.com/wp-content/uploads/webcam/smlcam.jpg' + '?' + Math.random() + '" />');
		document.write('</a></br>');

		//Mazama Snow Stake
		document.write('<a href="https://stake-images.sfo3.digitaloceanspaces.com/mazama/latest/stake_image.jpg" target="_blank">');
		document.write('<img class="fixed_width" src="https://stake-images.sfo3.digitaloceanspaces.com/mazama/latest/stake_image.jpg' + '?' + Math.random() + '" />');
		document.write('</a></br>');

		//Winthrop		
		//document.write('<a href="https://wsdot.com/travel/real-time/weather/4332" target="_blank">');
		document.write('<a href="https://wsdot.com/travel/real-time/mountainpasses/north-cascade-hwy" target="_blank">');
		document.write('<img class="fixed_width" src="https://images.wsdot.wa.gov/nc/020vc19255.jpg' + '?' + Math.random() + '" />');
		document.write('</a></br>');

		//Loup Loup Pass		
		document.write('<a href="https://wsdot.com/travel/real-time/mountainpasses/Loup-Loup" target="_blank">');
		document.write('<img class="fixed_width" src="https://images.wsdot.wa.gov/nc/020vc21450.jpg' + '?' + Math.random() + '" />');
		document.write('</a></br>');

		//Snoqualmie Pass		
		document.write('<a href="https://wsdot.com/travel/real-time/mountainpasses/Snoqualmie" target="_blank">');
		document.write('<img class="fixed_width" src="https://images.wsdot.wa.gov/sc/090VC05200.jpg' + '?' + Math.random() + '" />');
		document.write('</a></br>');

		//Blewett Pass		
		document.write('<a href="https://wsdot.com/travel/real-time/mountainpasses/Blewett" target="_blank">');
		document.write('<img class="fixed_width" src="https://images.wsdot.wa.gov/nc/097vc16375.jpg' + '?' + Math.random() + '" />');
		document.write('</a></br>');

		//Stevens Pass		
		document.write('<a href="https://wsdot.com/travel/real-time/mountainpasses/Stevens" target="_blank">');
		document.write('<img class="fixed_width" src="https://images.wsdot.wa.gov/nc/002vc06458.jpg' + '?' + Math.random() + '" />');
		document.write('</a></br>');

	</script>
	</div>
</body>
</html>
